#!/bin/bash
# .husky/pre-commit
#
# This script is run automatically before any commit
# If the script returns an error (exit code != 0) the commit is aborted

echo "KÃ¶r pre-commit kontroll..."

# Check if any debug code is left in file (i.e. console.log, debugger, TODO: REMOVE)
echo "SÃ¶ker efter debug-kommentarer..."
if git diff --cached --unified=0 -- . ':!.husky/pre-commit' | grep "+" | grep -E "console\.log|debugger|TODO: REMOVE" > /dev/null; then
    echo "âš ï¸ VARNING: Debug-kod hittades i staged filer!"
    echo "   Ta bort debug kod (ex. console.log, debugger, TODO: REMOVE) innan commit"
    exit 1
fi

echo "âœ… Pre-commit kontroller passerade!"
echo "ğŸ“ FortsÃ¤tter med commit..."
exit 0